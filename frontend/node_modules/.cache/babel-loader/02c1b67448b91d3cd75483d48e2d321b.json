{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8000/api'; // Adjust the URL as needed\n\nexport const register = async userData => {\n  try {\n    const response = await axios.post(`${API_URL}/user/register`, userData);\n    return response.data;\n  } catch (error) {\n    throw error.response.data;\n  }\n};\nexport const login = async credentials => {\n  try {\n    const response = await axios.post(`${API_URL}/user/login`, credentials);\n    return response.data;\n  } catch (error) {\n    throw error.response.data;\n  }\n};\nexport const logout = async () => {\n  try {\n    const response = await axios.post(`${API_URL}/user/logout`);\n    return response.data;\n  } catch (error) {\n    throw error.response.data;\n  }\n};\nexport const getUser = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/user/me`);\n    return response.data;\n  } catch (error) {\n    throw error.response.data;\n  }\n};\nexport const getAdminData = async () => {\n  try {\n    const user = JSON.parse(localStorage.getItem('user'));\n    // Try to get the access token from localStorage or from a separate key\n    const token = user && (user.access_token || user.token || user.accessToken) || localStorage.getItem('access_token');\n    if (!token) {\n      throw new Error('No access token found for admin.');\n    }\n    const response = await axios.get(`${API_URL}/admin/dashboard`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const getCurrentUser = async () => {\n  return getUser();\n};\nexport const registerAdmin = async adminData => {\n  try {\n    const response = await axios.post(`${API_URL}/admin/register`, adminData);\n    return response.data;\n  } catch (error) {\n    throw error.response.data;\n  }\n};","map":{"version":3,"names":["axios","API_URL","register","userData","response","post","data","error","login","credentials","logout","getUser","get","getAdminData","user","JSON","parse","localStorage","getItem","token","access_token","accessToken","Error","headers","Authorization","getCurrentUser","registerAdmin","adminData"],"sources":["C:/Users/USER/Desktop/freelance/Giftoria/giftoriaWeb/frontend/src/api/auth.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8000/api'; // Adjust the URL as needed\n\nexport const register = async (userData) => {\n    try {\n        const response = await axios.post(`${API_URL}/user/register`, userData);\n        return response.data;\n    } catch (error) {\n        throw error.response.data;\n    }\n};\n\nexport const login = async (credentials) => {\n    try {\n        const response = await axios.post(`${API_URL}/user/login`, credentials);\n        return response.data;\n    } catch (error) {\n        throw error.response.data;\n    }\n};\n\nexport const logout = async () => {\n    try {\n        const response = await axios.post(`${API_URL}/user/logout`);\n        return response.data;\n    } catch (error) {\n        throw error.response.data;\n    }\n};\n\nexport const getUser = async () => {\n    try {\n        const response = await axios.get(`${API_URL}/user/me`);\n        return response.data;\n    } catch (error) {\n        throw error.response.data;\n    }\n};\n\nexport const getAdminData = async () => {\n    try {\n        const user = JSON.parse(localStorage.getItem('user'));\n        // Try to get the access token from localStorage or from a separate key\n        const token = (user && (user.access_token || user.token || user.accessToken)) || localStorage.getItem('access_token');\n        if (!token) {\n            throw new Error('No access token found for admin.');\n        }\n        const response = await axios.get(`${API_URL}/admin/dashboard`, {\n            headers: { Authorization: `Bearer ${token}` }\n        });\n        return response.data;\n    } catch (error) {\n        throw error.response ? error.response.data : error;\n    }\n};\n\nexport const getCurrentUser = async () => {\n    return getUser();\n};\n\nexport const registerAdmin = async (adminData) => {\n    try {\n        const response = await axios.post(`${API_URL}/admin/register`, adminData);\n        return response.data;\n    } catch (error) {\n        throw error.response.data;\n    }\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,2BAA2B,CAAC,CAAC;;AAE7C,OAAO,MAAMC,QAAQ,GAAG,MAAOC,QAAQ,IAAK;EACxC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,GAAGJ,OAAO,gBAAgB,EAAEE,QAAQ,CAAC;IACvE,OAAOC,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMA,KAAK,CAACH,QAAQ,CAACE,IAAI;EAC7B;AACJ,CAAC;AAED,OAAO,MAAME,KAAK,GAAG,MAAOC,WAAW,IAAK;EACxC,IAAI;IACA,MAAML,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,GAAGJ,OAAO,aAAa,EAAEQ,WAAW,CAAC;IACvE,OAAOL,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMA,KAAK,CAACH,QAAQ,CAACE,IAAI;EAC7B;AACJ,CAAC;AAED,OAAO,MAAMI,MAAM,GAAG,MAAAA,CAAA,KAAY;EAC9B,IAAI;IACA,MAAMN,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,GAAGJ,OAAO,cAAc,CAAC;IAC3D,OAAOG,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMA,KAAK,CAACH,QAAQ,CAACE,IAAI;EAC7B;AACJ,CAAC;AAED,OAAO,MAAMK,OAAO,GAAG,MAAAA,CAAA,KAAY;EAC/B,IAAI;IACA,MAAMP,QAAQ,GAAG,MAAMJ,KAAK,CAACY,GAAG,CAAC,GAAGX,OAAO,UAAU,CAAC;IACtD,OAAOG,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMA,KAAK,CAACH,QAAQ,CAACE,IAAI;EAC7B;AACJ,CAAC;AAED,OAAO,MAAMO,YAAY,GAAG,MAAAA,CAAA,KAAY;EACpC,IAAI;IACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD;IACA,MAAMC,KAAK,GAAIL,IAAI,KAAKA,IAAI,CAACM,YAAY,IAAIN,IAAI,CAACK,KAAK,IAAIL,IAAI,CAACO,WAAW,CAAC,IAAKJ,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IACrH,IAAI,CAACC,KAAK,EAAE;MACR,MAAM,IAAIG,KAAK,CAAC,kCAAkC,CAAC;IACvD;IACA,MAAMlB,QAAQ,GAAG,MAAMJ,KAAK,CAACY,GAAG,CAAC,GAAGX,OAAO,kBAAkB,EAAE;MAC3DsB,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAChD,CAAC,CAAC;IACF,OAAOf,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACtD;AACJ,CAAC;AAED,OAAO,MAAMkB,cAAc,GAAG,MAAAA,CAAA,KAAY;EACtC,OAAOd,OAAO,CAAC,CAAC;AACpB,CAAC;AAED,OAAO,MAAMe,aAAa,GAAG,MAAOC,SAAS,IAAK;EAC9C,IAAI;IACA,MAAMvB,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,GAAGJ,OAAO,iBAAiB,EAAE0B,SAAS,CAAC;IACzE,OAAOvB,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAMA,KAAK,CAACH,QAAQ,CAACE,IAAI;EAC7B;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}